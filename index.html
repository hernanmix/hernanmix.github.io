<script type="text/javascript">
(function() {
  const params = new URLSearchParams(window.location.search);
  const canal = params.get("play");

  if (canal) {
    // Construir URL real del stream
    const urlReal = "https://hsports4hd.blogspot.com/2025/09/play.html?stream=" + canal;

    // Codificar en Base64
    const base64 = btoa(urlReal);

    // Crear contenedor flotante fullscreen
    const contenedor = document.createElement("div");
    contenedor.id = "player-container";
    contenedor.style = `
      position:fixed;
      top:0;left:0;
      width:100vw;
      height:100vh;
      z-index:9999;
      background:#000;
      display:flex;
      justify-content:center;
      align-items:center;
    `;

    // Crear iframe del reproductor fullscreen
    const iframe = document.createElement("iframe");
    iframe.src = urlReal;
    iframe.setAttribute("allowfullscreen", "true");
    iframe.setAttribute("scrolling", "no");
    iframe.style = `
      position:absolute;
      top:0;left:0;
      width:100%;
      height:100%;
      border:none;
    `;

    // Agregar al DOM
    contenedor.appendChild(iframe);
    document.body.style.margin = "0";
    document.body.style.height = "100vh";
    document.body.style.overflow = "hidden";
    document.body.appendChild(contenedor);

    // Actualizar la URL visible con ?r=base64
    const nuevaURL = window.location.origin + window.location.pathname + "?r=" + base64;
    window.history.replaceState({}, "", nuevaURL);
  }
})();
</script>
